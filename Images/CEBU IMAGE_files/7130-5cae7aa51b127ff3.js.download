"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7130],{88448:function(e,t,l){l.d(t,{B:function(){return S}});var a=l(85893),r=l(67294),n=l(86221),o=l(11163),i=l(80129),s=l(10708),c=l(26793),d=l(332),u=l(41960),m=l(29479),h=l(75195),f=l(43672),v=l(8719),x=l(48833),p=l(86420),b=l(49568),g=l(20494),y=l(76540),w=l(72009),j=l(7704),k=l(61847),N=l(50440),C=l(93967),D=l.n(C);let F=e=>{let{setSelected:t,selected:l,id:r,hits:n,name:o,desc:i}=e,s=l===r;return(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsxs)("label",{htmlFor:r,className:D()({"bg-light-grey":s},"flex flex-col justify-center w-full text-base p-1 cursor-pointer"),children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("input",{type:"radio",checked:s,onChange:()=>{t(r)},id:r,"data-testid":r,name:r,autoComplete:"off",className:"size-6 border border-black rounded-full appearance-none checked:bg-blue-primary checked:shadow-custom-radio-inner"}),(0,a.jsxs)("span",{className:"ml-2 text-sm font-bold",children:[o,(0,a.jsxs)("span",{className:"ml-1 text-xs font-normal",children:["(",n,")"]})]})]}),(0,a.jsx)("div",{className:D()("text-xs pl-8 pb-1 font-noto",{"bg-light-grey":s}),children:i})]})},r)},S=e=>{let{show:t,onHide:l,setLoader:C=e=>e,searchQuery:D,searchParams:S,isVideo:L}=e,{t:T}=(0,c.$)(),q=(0,o.useRouter)(),R=(0,u.h)(!0),[E,A]=(0,s.Z)([g.mh]),[,P]=(0,s.Z)([g.D7]),I=(0,i.parse)(E[g.mh]),[O,U]=r.useState(!1),[,z]=(0,s.Z)([g.IH]),[B,_]=(0,r.useState)(""),[V,Z]=(0,r.useState)(""),M=(0,m.b)(),[$,H]=(0,r.useState)([]),G=L?N.Td:N.S7;(0,r.useEffect)(()=>{t&&!$.length&&D&&S&&(U(!0),(0,f.bE)(R)(D,S).then(e=>{H(e.agencies),U(!1)}).catch(e=>{U(!1),(0,p.S3)(e)}))},[t]);let{distributorTerritory:Y}=(0,h.m)((0,d.q)(d.A.KeywordSearch,M)),K=Y||"";return(0,a.jsxs)(k.u_,{large:!0,alwaysRendered:!0,show:t,onHide:()=>{l(),(0,x.sO)("".concat(v.X.AgencyCollections," - ").concat(v.X.FilterClose),q.pathname)},className:"select-none md:max-w-28.75",children:[(0,a.jsx)(k.r6,{ruled:!0,className:"3xs:text-black",children:T("search-bar.contributors.filter-by-agency")}),(0,a.jsx)(w.P,{setSearchValue:_,searchValue:B,placeholder:T("search-bar.contributors.search-placeholder"),idType:"contributor"}),(0,a.jsxs)("div",{className:"p-5 mb-8 overflow-x-hidden overflow-y-auto border border-black rounded scrollbar h-23.5",children:[O&&(0,a.jsx)(j.s,{}),0!==$.length||O?$.filter(e=>{var t,l;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(null==B?void 0:B.toLowerCase()))||(null===(l=e.desc)||void 0===l?void 0:l.toLowerCase().includes(null==B?void 0:B.toLowerCase()))}).map(e=>(0,r.createElement)(F,{...e,selected:V,setSelected:Z,key:e.id})):(0,a.jsx)("div",{className:"text-left",children:T("search-bar.contributors.no-agencies")})]}),(0,a.jsxs)("div",{className:"flex flex-col 3sm:flex-row",children:[(0,a.jsx)(n.Yd2,{primary:!0,onClick:()=>{var e;C(!0);let t=$.find(e=>e.id===V),l=null==t?void 0:t.name,{pathname:a}=q;(0,x.CB)("".concat(v.X.AgencyCollections," - ").concat(v.X.ApplyFilter),a),l&&((0,x.CB)("".concat(v.X.AgencyCollections," - ").concat(l),a),P(g.D7,(0,i.stringify)(t,{arrayFormat:"comma"}),{path:"/"}));let r=(0,b.ks)((0,b.Nq)({...(0,i.parse)((0,i.stringify)(q.query)),...I||{},[g.vL]:V,page:void 0}));A(g.mh,(0,y.wV)({...r,page:1}),{path:"/"}),K&&z(g.IH,(0,i.stringify)({[g.o0]:K},{arrayFormat:"comma"}),{path:"/"});let n=q.query.qt?"".concat((0,y.ZG)(q.query.qt)):"",o=(0,y.Wd)(G(n,M),K),s=(0,y.wV)((0,b.ks)((0,b.Nq)({...r,qt:void 0,t:void 0,page:"1"===r.page?void 0:r.page,dist:void 0,imgt:0===Number(null==r?void 0:r.imgt)?void 0:null==r?void 0:r.imgt})));null===(e=q.push({pathname:o,query:s},void 0))||void 0===e||e.then(()=>C(!1))},size:n.qE.Large,"data-testid":"confirm-filter-button",className:"flex items-center justify-center w-full mb-4 mr-8 font-bold 3xs:text-base 3sm:mb-0",disabled:!V,children:T("search-bar.contributors.filter")}),(0,a.jsx)(n.Yd2,{onClick:()=>{(0,x.sO)("".concat(v.X.AgencyCollections," - ").concat(v.X.CancelFilter),q.pathname),l(),Z((null==I?void 0:I.a)||"")},size:n.qE.Large,className:"flex items-center justify-center w-full font-bold 3xs:text-base",children:T("bespokeVideoPacks.cancel")})]})]})}},63099:function(e,t,l){l.d(t,{N:function(){return F}});var a=l(37340),r=l(85893),n=l(86221),o=l(11163),i=l(80129),s=l(67294),c=l(10708),d=l(87536),u=l(26793),m=l(332),h=l(29479),f=l(75195),v=l(8719),x=l(48833),p=l(49568),b=l(20494),g=l(76540),y=l(34396),w=l(61847),j=l(50440);function k(){let e=(0,a._)(["search-bar.search-builder.phrase"]);return k=function(){return e},e}function N(){let e=(0,a._)(["search-bar.search-builder.at-least-one"]);return N=function(){return e},e}function C(){let e=(0,a._)(["search-bar.search-builder.without"]);return C=function(){return e},e}let D=(e,t)=>e.trim().replace(/-/g," ").replace(/[ ,]+/g,t),F=e=>{let{show:t,onHide:l,setLoader:a=e=>e}=e,{t:F}=(0,u.$)(),S=(0,o.useRouter)(),[L,T]=(0,c.Z)([b.mh]),[q,R]=(0,c.Z)([b.Pv]),[E,A]=(0,s.useState)(!1),P=(0,i.parse)(L[b.mh]),[,I]=(0,c.Z)([b.IH]),O=(0,i.parse)(q[b.Pv]),U=(0,h.b)(),{distributorTerritory:z}=(0,f.m)((0,m.q)(m.A.KeywordSearch,U)),{register:B,getValues:_,control:V,resetField:Z}=(0,d.cI)({shouldFocusError:!1}),M=["phrase","atLeastOne","without"],$=M.map(e=>(0,d.qo)({name:e,control:V})).some(e=>!!e);(0,s.useEffect)(()=>()=>{A(!1)},[]);let H=()=>{(0,x.sO)("".concat(v.X.AdvancedSearch," - ").concat(v.X.CancelFilter),S.pathname),M.map(e=>Z(e)),A(!1),l()};return(0,r.jsxs)(w.u_,{large:!0,alwaysRendered:!0,show:t,onHide:()=>{l(),(0,x.sO)("".concat(v.X.AdvancedSearch," - ").concat(v.X.FilterClose),S.pathname)},className:"select-none md:max-w-28.75",children:[(0,r.jsx)(w.r6,{ruled:!0,className:"3xs:text-black",children:F("search-bar.search-builder.label")}),(0,r.jsx)("p",{className:"mb-3.5 mt-5 text-sm text-black",children:F("search-bar.search-builder.description")}),(0,r.jsxs)("form",{className:"w-full",children:[(0,r.jsx)("div",{children:(0,r.jsx)(y.U,{label:F(k()),...B("phrase"),"data-testid":"phrase"})}),(0,r.jsx)("div",{className:"mt-5",children:(0,r.jsx)(y.U,{label:F(N()),...B("atLeastOne"),"data-testid":"atLeastOne"})}),(0,r.jsx)("div",{className:"my-5",children:(0,r.jsx)(y.U,{label:F(C()),...B("without"),"data-testid":"without"})})]}),(0,r.jsxs)("div",{className:"flex flex-col 3sm:flex-row",children:[(0,r.jsx)(n.Yd2,{primary:!0,size:n.qE.Large,"data-testid":"refine-button",onClick:()=>{var e;a(!0),A(!0);let t=_();(0,x.Br)(t,S.pathname);let l=[t.phrase?"'".concat((0,j.LT)(t.phrase.trim().replace(/-/g," ")),"'"):"",t.atLeastOne?"(".concat((0,j.LT)(D(t.atLeastOne," OR ")),")"):"",t.without?"NOT-".concat((0,j.LT)(D(t.without," NOT "))):""].filter(Boolean).join("-"),r=(0,i.parse)((0,i.stringify)(S.query)),n=(0,p.ks)((0,p.Nq)({...r,...P||{},qt:(0,j.M3)(l),page:void 0})),o=S.pathname.includes("/stock-photo"),s=z&&o?z:"";T(b.mh,(0,g.wV)(n),{path:"/"}),R(b.Pv,(0,i.stringify)({...O,qt:(0,j.hH)((0,g.ZG)(null==n?void 0:n.qt)),imgt:n.imgt},{arrayFormat:"comma"}),{path:"/",domain:(0,g.PM)()}),s&&I(b.IH,(0,i.stringify)({[b.o0]:s},{arrayFormat:"comma"}),{path:"/"});let c=(0,j.LT)(l);c===(0,j.LT)(r.qt)&&H();let d=o?j.S7:j.Td,u=(0,g.Wd)(d(c,U),s),m=(0,g.wV)((0,p.ks)((0,p.Nq)({...n,qt:void 0,t:void 0,page:"1"===n.page?void 0:n.page,dist:void 0,imgt:0===Number(null==n?void 0:n.imgt)?void 0:null==n?void 0:n.imgt})));null===(e=S.push({pathname:u,query:m},void 0))||void 0===e||e.then(()=>{a(!1)})},className:"mb-4 mr-8 flex w-full items-center justify-center font-bold 3xs:text-base 3sm:mb-0",disabled:!$||E,children:F("search-bar.search-builder.refine")}),(0,r.jsx)(n.Yd2,{onClick:H,size:n.qE.Large,className:"flex w-full items-center justify-center font-bold 3xs:text-base","data-testid":"refine-cancel-button",children:F("bespokeVideoPacks.cancel")})]})]})}},44957:function(e,t,l){l.d(t,{B:function(){return eu}});var a=l(37340),r=l(85893),n=l(86221),o=l(93967),i=l.n(o),s=l(11163),c=l(67294),d=l(26793),u=l(28521),m=l(59401),h=l(43672),f=l(86420),v=l(41960),x=l(31671),p=l(23937);let b=(e,t)=>{let[l,a]=(0,c.useState)({countYourLibrary:void 0,countDiscountLibrary:void 0}),r=(0,v.h)(!0),n=(0,p.a)(),o=(0,x.D)();return(0,c.useEffect)(()=>{(async()=>{try{let[l,i]=await (0,h.n6)(r)({...e,...(0,m.bx)(n,o)},t);a({countYourLibrary:null==l?void 0:l.totalMatches,countDiscountLibrary:null==i?void 0:i.totalMatches})}catch(e){(0,f.S3)(e)}})().catch(f.S3)},[]),l};var g=l(74074),y=l(20506),w=l(59176),j=l(79401),k=l(14349),N=l(8719),C=l(48833),D=l(28228),F=l(49568),S=l(20494),L=l(76540),T=l(97497),q=l(24617),R=l(75503);l(3509);var E=l(27484),A=l.n(E),P=l(17204),I=l.n(P),O=l(89734),U=l.n(O),z=l(93220),B=l.n(z),_=l(9198),V=l.n(_),Z=l(91749),M=l.n(Z),$=l(98424),H=l.n($),G=l(31878),Y=l(99002),K=l(4893),Q=l(17537);function J(){let e=(0,a._)(["search-bar.date-taken.custom"]);return J=function(){return e},e}let X="dd/MM/yyyy",W="YYYYMMDD",ee=new Date().getFullYear()-1900,et=e=>{var t,l;return null==e?void 0:null===(l=e.toJSON())||void 0===l?void 0:null===(t=l.split("T"))||void 0===t?void 0:t.shift()},el=()=>(0,r.jsx)(q.Z,{className:"mr-1"}),ea=(e,t)=>l=>{var a;e[t]=!!(null===(a=document.querySelector('[data-testid="DateTakenCustomField-'.concat(t,'"]')))||void 0===a?void 0:a.contains(l.target))},er=e=>{var t,l,a,n,o,s;let{onFilterChange:u,initialFilters:m,trackEvent:h=()=>void 0,isDisabled:f}=e,v={[Q.L7.DateFrom]:!1,[Q.L7.DateTo]:!1},{t:x}=(0,d.$)(),{isOpen:p,dropdownButtonProps:b,dropdownMenuProps:g}=(0,G.x)(),y=(0,K.uf)(m,u),w=null===(t=y.filters)||void 0===t?void 0:t.find(e=>e.filterName===Q.L7.DateFrom),j=null===(l=y.filters)||void 0===l?void 0:l.find(e=>e.filterName===Q.L7.DateTo),k=[],N=x(y.title),C=(e,t,l)=>{let a=t.selected&&e?new Date((0,Y.xk)(e)):null;return l&&(null==a||a.setDate(a.getDate()-1)),{label:x(t.title),action:t.action,selected:!!t.selected,value:a}},[D,F]=(0,c.useState)({[Q.L7.DateFrom]:w?C(m&&m[Q.SolrDateTaken.DateFrom],w):null,[Q.L7.DateTo]:j?C(m&&m[Q.SolrDateTaken.DateTo],j,!0):null});null===(a=y.filters)||void 0===a||a.forEach(e=>{e.filterName!==Q.L7.DateFrom&&e.filterName!==Q.L7.DateTo&&k.push({title:x(e.title),filterName:e.filterName,action:e.action,selected:e.selected,label:e.title})}),k.push({title:x(J()),filterName:Q.L7.Custom,action:()=>{},selected:null===(n=y.filters)||void 0===n?void 0:n.some(e=>e.selected&&(e.filterName===Q.L7.DateFrom||e.filterName===Q.L7.DateTo)),icon:el,label:"search-bar.date-taken.custom"});let[S,L]=(0,c.useState)((null===(o=k.find(e=>e.selected))||void 0===o?void 0:o.title)||N),[T,E]=(0,c.useState)(null),[P,O]=(0,c.useState)(null),z=(e,t)=>{var l,a,r,n,o,i,s,c,d;if(et(null===(l=D[e])||void 0===l?void 0:l.value)===et(t))return;let u=t&&(null===(a=D[Q.L7.DateTo])||void 0===a?void 0:a.value)&&new Date(t)>new Date((null===(r=D[Q.L7.DateTo])||void 0===r?void 0:r.value)||0),m={...D,...e===Q.L7.DateFrom&&u&&{[Q.L7.DateTo]:{label:null===(n=D[Q.L7.DateTo])||void 0===n?void 0:n.label,action:null===(o=D[Q.L7.DateTo])||void 0===o?void 0:o.action,selected:null===(i=D[Q.L7.DateTo])||void 0===i?void 0:i.selected,value:null}},[e]:{label:null===(s=D[e])||void 0===s?void 0:s.label,action:null===(c=D[e])||void 0===c?void 0:c.action,selected:null===(d=D[e])||void 0===d?void 0:d.selected,value:t}};F(I()(U()(B()(m),0)))},_=()=>{var e,t,l,a,r,n;let o=!(new Date((null===(e=D[Q.L7.DateFrom])||void 0===e?void 0:e.value)||0)>new Date((null===(t=D[Q.L7.DateTo])||void 0===t?void 0:t.value)||0))&&(null===(l=D[Q.L7.DateTo])||void 0===l?void 0:l.value)?new Date(null===(a=D[Q.L7.DateTo])||void 0===a?void 0:a.value):new Date;null==o||o.setDate(o.getDate()+1);let i=(null===(r=D[Q.L7.DateFrom])||void 0===r?void 0:r.value)?A()((null===(n=D[Q.L7.DateFrom])||void 0===n?void 0:n.value)||"").format(W):Y.pY,s=A()(o||"").format(W);u({[Q.SolrDateTaken.DateFrom]:i,[Q.SolrDateTaken.DateTo]:s})},Z=e=>{var t,l,a,r;return{selected:null===(t=D[e])||void 0===t?void 0:t.value,onChange:t=>z(e,t),dateFormat:X,startDate:null===(l=D[Q.L7.DateFrom])||void 0===l?void 0:l.value,endDate:null===(a=D[Q.L7.DateTo])||void 0===a?void 0:a.value,...e===Q.L7.DateFrom&&{selectsStart:!0,maxDate:new Date},...e===Q.L7.DateTo&&{selectsEnd:!0,minDate:null===(r=D[Q.L7.DateFrom])||void 0===r?void 0:r.value},dateFormatCalendar:"MMMM",showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:ee}},$=(e,t)=>{if(""===t){z(e,null);return}let l=(0,Y.hz)(t);if(l){let t=new Date(l);switch(!0){case e===Q.L7.DateFrom:z(e,(0,Y.gF)(t)?new Date:t);break;case e===Q.L7.DateTo:var a;let r=null===(a=D[Q.L7.DateFrom])||void 0===a?void 0:a.value;z(e,null!=r&&r>t?new Date:t)}}},er=(0,c.forwardRef)((e,t)=>{var l;let{value:a,onClick:n,dateRangeKey:o}=e,[s,d]=(0,c.useState)(a),[u,m]=(0,c.useState)(!1);return(0,r.jsxs)("div",{className:i()("relative z-10 flex items-center w-full h-10 border rounded select-none mt-1.5 focus:outline-none",u||P===o?"border-black":"border-grey-light-2"),ref:t,children:[(0,r.jsxs)("div",{className:"flex items-center size-full px-4 cursor-pointer focus:border-black",onClick:e=>{n&&!v[o]&&n(e),v[o]=!v[o]},"data-testid":"DateTakenCustomField-".concat(o),children:[(0,r.jsx)(q.Z,{className:"mr-1"}),(0,r.jsx)("span",{className:"whitespace-nowrap font-noto text-sm text-black",children:null===(l=D[o])||void 0===l?void 0:l.label})]}),(0,r.jsx)(M(),{autoFocus:T===o,autoComplete:"new-password",type:"text",className:i()("py-1 px-2 font-noto text-sm 65 border-0 outline-none focus:border-black",s?"mr-3 w-5.65 rounded-sm bg-light-grey-3":"w-6.75 text-mid-grey"),mask:[/[0-9]/,/[0-9]/,"/",/[0-9]/,/[0-9]/,"/",/[1-2]/,/[0-9]/,/[0-9]/,/[0-9]/],pipe:H()(X.toLowerCase()),guide:!0,placeholder:X.toUpperCase(),value:s,onChange:e=>{d(e.target.value),$(o,e.target.value)},onKeyDown:e=>{"Enter"===e.key&&_()},onFocus:()=>{m(!0),E(o)},onBlur:()=>m(!1),"data-testid":"DateTakenInput-".concat(o)})]})}),en=()=>{O(null)};return(0,r.jsxs)("div",{className:"relative h-auto w-full",children:[(0,r.jsxs)("button",{...b,className:i()("relative flex items-center w-full h-10 py-2 border rounded cursor-pointer select-none pl-4 pr-2.5 focus:outline-none",p?"border-black":"border-grey-light-2",f?"text-grey-light-2":"text-black"),disabled:f,children:[(0,r.jsx)(el,{}),(0,r.jsx)("div",{className:i()("w-48 text-sm text-left truncate font-noto",f?"text-grey-light-2":"text-black"),"data-testid":"DateTakenSelectedValue",children:S}),(0,r.jsx)("div",{className:i()("flex items-center h-full ml-2.5 border-l",p?"border-black":"border-grey-light-2",f?"text-grey-light-2":"text-black"),children:(0,r.jsx)(R.Z,{className:"ml-3"})})]}),(0,r.jsx)(()=>(0,r.jsx)("ul",{...g,className:i()(!p&&"hidden","absolute inset-x-0 w-auto mt-1 border bg-white  overflow-hidden shadow-md z-50 md:mt-2 md:rounded",p?"border-zinc-100":"border-grey-light-2"),"aria-hidden":!p,"data-testid":"DateTakenList",children:k.map(e=>{let{filterName:t,title:l,action:a,selected:n,icon:o,label:s}=e;return(0,r.jsxs)("li",{className:i()("flex items-center py-2 text-sm text-black bg-white cursor-pointer px-4 font-noto transition hover:bg-light-grey",l===S&&"bg-light-grey"),"data-testid":t,onClick:()=>{L(n?N:l),h(s||"",n),t!==Q.L7.Custom&&(m&&m[Q.SolrDateTaken.DateTo]&&u({[Q.SolrDateTaken.DateTo]:void 0}),t!==Q.L7.Custom&&a(t,!n))},children:[o&&(0,r.jsx)(o,{}),(0,r.jsx)("span",{children:l})]},t.toString())})}),{}),S===(null===(s=k.find(e=>e.filterName===Q.L7.Custom))||void 0===s?void 0:s.title)&&(0,r.jsx)("form",{children:Object.keys(D).map(e=>D[e]&&(0,r.jsx)(V(),{wrapperClassName:"w-full",onClickOutside:ea(v,e),customInput:(0,r.jsx)(er,{dateRangeKey:e}),onCalendarOpen:()=>{E(e),O(e)},onCalendarClose:en,...Z(e)},e))})]})},en=e=>{let{onFilterChange:t,initialFilters:l={},isDisabled:a}=e,{t:n}=(0,d.$)(),{trackFilterGenerator:o}=(0,g.p)();return(0,r.jsxs)("div",{className:"z-30 py-6",children:[(0,r.jsx)("div",{className:i()("pb-2 text-sm font-bold",a?"text-grey-light-2":"text-black"),children:n("search-bar.date-taken.label")}),(0,r.jsx)(er,{onFilterChange:t,initialFilters:l,trackEvent:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o("search-bar.date-taken.label",e)(t)},isDisabled:a})]})};function eo(){let e=(0,a._)(["search-bar.licenses.all-royalty"]);return eo=function(){return e},e}function ei(){let e=(0,a._)(["search-bar.licenses.all"]);return ei=function(){return e},e}let es=e=>{var t;let{data:l,isDisabled:a,isVideo:o}=e,{t:s}=(0,d.$)(),{trackFilterGenerator:u}=(0,g.p)(),{isOpen:m,dropdownButtonProps:h,dropdownMenuProps:f}=(0,G.x)(),v=s(o?eo():ei()),x=null===(t=l.find(e=>e.selected))||void 0===t?void 0:t.title,[p,b]=(0,c.useState)(x||v);return(null==l?void 0:l.length)<=1?null:(0,r.jsxs)("div",{className:"relative w-full h-auto py-6",children:[(0,r.jsx)("div",{className:i()("pb-2 text-sm font-bold",a?"text-grey-light-2":"text-black"),children:s("search-bar.licenses.label")}),(0,r.jsxs)("button",{...h,className:i()("relative flex items-center w-full h-10 py-2 border rounded cursor-pointer select-none pl-4 pr-2.5 focus:outline-none",m?"border-black":"border-grey-light-2"),disabled:a,children:[(0,r.jsx)("div",{className:i()("w-48 text-sm text-left  truncate font-noto",a?"text-grey-light-2":"text-black"),"data-testid":"licencesSelectedValue",children:s(p)}),(0,r.jsx)("div",{className:i()("flex items-center h-full ml-auto border-l",m?"border-black":"border-grey-light-2",a?"text-grey-light-2":"text-black"),children:(0,r.jsx)(R.Z,{className:"ml-3"})})]}),(0,r.jsx)(n.O15,{dropdownMenuProps:f,dropdownOpen:m,trackEvent:u,mainTitle:"search-bar.licenses.label",selectedValue:p,setSelectedValue:b,dropdownData:l,isDisabled:a})]})};function ec(){let e=(0,a._)(["search-bar.search-territory.label"]);return ec=function(){return e},e}let ed="relative border-b pl-6 pr-4 w-[321px]",eu=e=>{let{userDefaultsConfig:t=m.zg,children:l,onHide:a,initialFilters:o={},onFilterChange:h=()=>{},licences:f,searchQuery:v,searchParams:x,isVideo:q=!1,setContributorModal:R,setBuilderModal:E}=e,{t:A,i18n:P}=(0,d.$)(),{trackBurgerGenerator:I,trackFilterGenerator:O}=(0,g.p)(),{countYourLibrary:U,countDiscountLibrary:z}=b(v||{},x||{}),B=(0,L.kY)(q),{isMobileOrTablet:_}=(0,w.p)(),V=(0,F.Nq)((0,K.c_)({...o,[S.rN]:"video"===B?null==o?void 0:o.edrf:void 0,[S.RL]:"video"===B?void 0:null==o?void 0:o.lic})),Z=(0,p.a)(),M=(0,s.useRouter)(),$=(0,y.ev)(),H=(0,y.Hz)(),[G,Y]=(0,c.useState)(!1),{qt:Q=""}=(0,j.Y)(),J=Z&&Z.isIQUser,X=P.getFixedT("en"),{pathname:W}=(0,s.useRouter)(),{isMobile:ee,isTablet:et}=(0,w.p)(),{currentFilters:el,clearAll:ea,handleItem:er}=(0,k.s)({filters:o,filterType:B,action:h,userDefaultsConfig:t}),eo=(0,K.UF)(V,Z,t),ei=!Q&&!M.query.qt&&!(0,S.IT)(M.query)&&!M.query.qn,eu=G||"video"===B;(0,c.useEffect)(()=>{Y(($||H)&&!!Z||!!(null==Z?void 0:Z.territorySelectionEnabled))},[H]);let em=(0,m.Nr)((0,K.ZL)(B,o,h),t,A("enterprise-search.confirm-defaults-change"),"video"===B),eh=(0,m.Nr)((0,K.my)(o,h),t,A("enterprise-search.confirm-defaults-change"),"video"===B),ef=window.innerWidth<u.R6;return(0,r.jsxs)("div",{className:"z-10 flex flex-col h-full bg-white w-80",children:[(0,r.jsx)(n.iRx,{onHide:a,filtersCount:eo}),(0,r.jsxs)("div",{className:"h-full pb-5 overflow-x-hidden overflow-y-auto text-black font-noto filter-scroll","data-testid":"FilterScrollContent",children:[ef&&_&&(0,r.jsx)(n.M$e,{filters:o,isVideo:q,currentFilters:el,clearAll:ea,handleItem:er}),!t.hideLicensesAndReleases&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:ed,children:(0,r.jsx)(es,{data:em,isDisabled:ei,isVideo:"video"===B})}),(0,r.jsx)("div",{className:ed,children:(0,r.jsx)(n.wcI,{data:eh,isDisabled:ei,isMobileDevice:ee||et,setCookieUniversal:D.CI,trackBurgerGenerator:I,trackFilterGenerator:O})})]}),J&&(0,r.jsx)("div",{className:ed,children:(0,r.jsx)(n.lHY,{initialFilters:o,onFilterChange:h,licences:f,isDisabled:ei,searchQuery:v,searchParams:x,countYourLibrary:U,trackBurgerGenerator:I,trackFilterGenerator:O,setCookieUniversal:D.CI,countDiscountLibrary:z})}),(0,r.jsx)("div",{className:ed,children:(0,r.jsx)(en,{onFilterChange:h,initialFilters:o,isDisabled:ei})}),(0,r.jsx)(n.RF$,{onFilterChange:h,initialFilters:o,isDisabled:ei,isVideo:q,setCookieUniversal:D.CI,trackBurgerGenerator:I,trackFilterGenerator:O}),(0,r.jsx)("div",{className:ed,children:(0,r.jsx)(n.bS3,{filterType:B,onFilterChange:h,initialFilters:o,isDisabled:ei,setCookieUniversal:D.CI,trackBurgerGenerator:I,trackFilterGenerator:O})}),"photo"===B&&(0,r.jsx)(n.BLH,{isDisabled:ei,initialFilters:o,onFilterChange:h,setCookieUniversal:D.CI,trackBurgerGenerator:I,trackFilterGenerator:O}),(0,r.jsx)(n.v9C,{isDisabled:ei,openContributorModal:()=>{(0,C.rl)(X("search-bar.contributors.filter-by-agency"),!1,W),!ei&&R&&R(!0)}}),(0,r.jsx)(n.Ukc,{isDisabled:ei,onBuilderClick:()=>{(0,C.CB)(N.X.AdvancedSearch,W),ei||E(!0)},noBorder:eu}),"photo"===B&&(0,r.jsx)("div",{className:ed,children:(0,r.jsx)(n.JHO,{onFilterChange:h,initialFilters:o,isDisabled:ei,trackFilterSelected:C.CB})}),G&&(0,r.jsxs)("div",{className:"relative pl-6 pr-4 w-[321px]",children:[(0,r.jsx)("div",{className:i()("pt-4 pb-2 text-sm font-bold",ei?"text-grey-light-2":"text-black"),children:A(ec())}),(0,r.jsx)(T.uD,{isFilter:!0,isDisabled:ei})]}),l]})]})}},9926:function(e,t,l){l.d(t,{T:function(){return i}});var a=l(85893),r=l(6183),n=l(59401),o=l(44957);let i=e=>{let{userDefaultsConfig:t=n.zg,children:l,onFilterChange:i,initialFilters:s,licences:c,setLoader:d,searchQuery:u,searchParams:m,isVideo:h,setContributorModal:f,setBuilderModal:v,...x}=e;return(0,a.jsx)(r.B,{...x,id:"filter",alwaysRendered:!0,transition:r.y.MobileReverseFlyout,className:"3xs:items-start",children:x.show?(0,a.jsx)(o.B,{userDefaultsConfig:t,onHide:x.onHide,onFilterChange:i,initialFilters:s,licences:c,setLoader:d,searchQuery:u,searchParams:m,isVideo:h,setContributorModal:f,setBuilderModal:v}):(0,a.jsx)("div",{})})}},72009:function(e,t,l){l.d(t,{P:function(){return h}});var a=l(85893),r=l(65735),n=l(68779),o=l(67814),i=l(93967),s=l.n(i),c=l(67294),d=l(26793),u=l(59176),m=l(44362);let h=e=>{let{setSearchValue:t,searchValue:l,placeholder:i,idType:h="collection",wrapperClassName:f="h-13 rounded mb-5",labelClassName:v="h-10",inputClassName:x="",searchFilterGtm:p}=e,{t:b}=(0,d.$)(),g=(0,c.useRef)(null),[y,w]=(0,c.useState)(!1),{isMobileOrTablet:j}=(0,u.p)(),k=e=>{t(e)},N=()=>{l&&p&&(0,m.kN)(p.action,l,p.category)};return(0,a.jsxs)("form",{"data-testid":"search-wrapper",className:s()("relative flex flex-row bg-white items-center flex-1 border border-black cursor-pointer text-grey-black md:mx-0 noto-sans",f),onSubmit:e=>{e.preventDefault()},children:[(0,a.jsxs)("label",{className:s()("relative flex flex-auto",v),children:[(0,a.jsx)("input",{"data-testid":"search-input",ref:g,role:"searchbox",className:s()("flex-auto w-0 h-full px-4 md:px-4 focus:outline-none font-noto",x),onFocus:()=>w(!0),onBlur:()=>{w(!1),N()},value:l,onChange:e=>k(e.target.value),maxLength:250,type:"text",id:"filtering-search-".concat(h),autoComplete:"new-password","aria-autocomplete":"list",placeholder:i}),l&&(0,a.jsx)("button",{"data-testid":"btn-reset",className:s()(!y&&!j&&"opacity-0","absolute right-0 flex flex-row items-center h-full text-xl bg-transparent hover:text-cyan hover:opacity-100 md:flex focus:text-cyan focus:outline-none"),type:"button",title:b("search-bar.reset"),onClick:()=>{t(""),g.current&&g.current.focus()},children:(0,a.jsx)(o.G,{icon:r.NBC,className:"text-grey-deep"})})]}),(0,a.jsx)("div",{className:"flex items-center h-full pl-3 pr-4 text-xl text-black bg-white border-black rounded-r-full cursor-default cursor- focus:outline-none md:bg-white",children:(0,a.jsx)("button",{"data-testid":"btn-search",children:(0,a.jsx)(o.G,{icon:n.wn1,className:"fa-fw"})})})]})}},7704:function(e,t,l){l.d(t,{s:function(){return r}});var a=l(85893);let r=()=>(0,a.jsx)("div",{"data-el":"squareLoader",children:Array.from({length:3},(e,t)=>(0,a.jsx)("span",{},"".concat(t,"_span_squared")))})},43110:function(e,t,l){l.d(t,{C:function(){return i}});var a=l(85893),r=l(93967),n=l.n(r),o=l(99806);let i=e=>{let{helpSectionTitle:t,helpSection:l,trackParagraphLinkEvent:r,className:i,helpSectionTitleClassName:s="py-6 mx-auto text-2xl font-bold text-center leading-120 tracking-title-heading-3 3sm:text-[26px] 3sm:py-8 md-4:py-10 2xl:tracking-title-heading-2 2xl:text-4.5xl 2xl:leading-120"}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:s,children:t}),l&&(0,a.jsx)(o.n,{...l,trackEvent:r,paragraphWidth:n()(i,"w-full md-4:max-w-800 2xl:!max-w-1024")})]})}},81701:function(e,t,l){l.d(t,{e:function(){return o}});var a=l(85893),r=l(26793),n=l(76540);let o=e=>{let{wrapperClassName:t="flex flex-col justify-between mt-4 text-4xs 3sm:text-base 3sm:flex-row 3sm:mt-6",tryIconClassName:l="flex items-center w-full p-4 font-bold list-none border rounded-lg-2 border-panel-border 3sm:p-6 3sm:w-1/2 3sm:flex-col",checkIconClassName:o="flex items-center w-full p-4 mb-4 font-bold list-none border rounded-lg-2 border-panel-border 3sm:p-6 3sm:w-1/2 3sm:mr-6 3sm:mb-0 3sm:flex-col"}=e,{t:i}=(0,r.$)();return(0,a.jsxs)("ul",{className:t,children:[(0,a.jsxs)("li",{className:o,children:[(0,a.jsx)("img",{src:(0,n.I1)("icons/stylus.png"),className:"w-12 3sm:mb-2",alt:"Check spelling"}),(0,a.jsx)("span",{className:"w-full text-center",children:i("no-results.case1")})]}),(0,a.jsxs)("li",{className:l,children:[(0,a.jsx)("img",{src:(0,n.I1)("icons/manage_search.png"),className:"w-12 3sm:mb-2",alt:"Change query"}),(0,a.jsx)("span",{className:"w-full text-center",children:i("no-results.case2")})]})]})}},47264:function(e,t,l){l.d(t,{X:function(){return I}});var a=l(85893),r=l(86221),n=l(11163),o=l(67294),i=l(26793),s=l(59251),c=l(49861),d=l(41960),u=l(94883),m=l(75195),h=l(43672),f=l(8719),v=l(3734),x=l(17537),p=l(50440),b=l(66029),g=l(24850),y=l(93967),w=l.n(y),j=l(332),k=l(29479),N=l(81198);let C=e=>{let{queryQt:t,isVideo:l,className:r,onClick:n=()=>void 0}=e,o=(0,k.b)(),{t:s}=(0,i.$)(),c=(0,j.q)(l?j.A.KeywordSearch:j.A.KeywordVideoSearch,o),d=!l&&"de"===o,u=decodeURIComponent(s(l?"video-search.search.see-images":"image-search.see-videoclips",{keyword:(0,p.M3)(encodeURIComponent(t))})),m=(0,p.nr)(c,t),h=l?(0,a.jsx)(b.Z,{className:"mr-1 align-text-top",fontSize:"small"}):(0,a.jsx)(g.Z,{className:"mr-1 align-text-top",fontSize:"small"});return(0,a.jsxs)(N.A,{role:"button",className:w()("block",r),href:m,onClick:n,rel:d?"nofollow":void 0,children:[h,u]})};var D=l(44362),F=l(81895),S=l(86796),L=l(20494);let T=e=>{let{collectionType:t,queryQt:l,currentCollectionTitle:o,item:s,getResults:c}=e,{t:d}=(0,i.$)(),u=(0,k.b)(),{pathname:m,query:h}=(0,n.useRouter)(),v=(0,S.Ue)(null==h?void 0:h.categorySlug),b=h.qn?"&qn=".concat(h.qn):"",g=v?"".concat((0,j.q)(j.A.KeywordSearch,u),"?").concat(L.hZ,"=").concat(l,"&").concat(L.D2,"=").concat(t,"&").concat(L.SY,"=").concat(v).concat(b):"".concat((0,p.nr)((0,j.q)(j.A.KeywordSearch,u),l),"?").concat(L.D2,"=").concat(t).concat(b),y=d("no-results.collection.".concat(t)),w="";w=t===x.yl.EditorialCore?"Editorial":F.cz[(0,F.Kw)(t)];let N=()=>{(0,f.z_)("".concat(o," - View Other Collections"),w,m)},C=e=>{N(),t===x.yl.EditorialCore&&c&&(e.preventDefault(),c(x.yl.EditorialCore))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.gMz,{url:g,className:"w-full mt-2 mb-4 xl:mb-6",onClick:C,children:(0,a.jsx)("div",{className:"overflow-hidden h-65",children:(0,a.jsx)("img",{alt:s.headline,title:s.headline,src:s.renditions.zoom_large.href,className:"object-cover object-top w-full h-17.5 hover:scale-120 duration-200 ease-in-out transition"})})}),(0,a.jsx)(r.Yd2,{size:r.qE.Large,className:"block w-full font-bold",linkButton:{href:g,onClick:C},children:y})]})},q=e=>{let{collections:t,collectionsNumber:l,queryQt:r,currentCollectionTitle:n,getResults:o}=e;return(0,a.jsx)("ul",{className:w()("grid gap-4 grid-cols-1 w-full",l>1?"3sm:grid-cols-2":"3sm:grid-cols-1 m-auto 3sm:w-85","xl:grid-cols-".concat(l)),children:t.map((e,t)=>{let{item:l,collectionType:i}=e;return l?(0,a.jsx)("li",{className:"flex flex-col justify-center",children:(0,a.jsx)(T,{collectionType:i,queryQt:r,currentCollectionTitle:n,item:l,getResults:o})},t):null})})},R=e=>{let{collections:t,searchQuery:l,getResults:r,pathname:n,collectionsNumber:o,isCreativeTab:c}=e,{t:d}=(0,i.$)(),u=(0,k.b)(),m="";m=c?F.cz[(0,F.Kw)(l.collectiontype)]:F.KG[(0,F.Kw)(l.collectiontype)];let h=l.qt;return(0,a.jsxs)("div",{"data-testid":"collections-block",children:[(0,a.jsx)("p",{className:"mt-6 mb-4 text-lg text-center text-navy 3sm:text-xl md-4:!text-2xl 3sm:mt-8 md-4:mt-10",children:(0,a.jsx)(s.c,{i18nKey:"no-results.collection-suggestion",values:{keyword:h},components:{bold:(0,a.jsx)("span",{className:"font-bold"}),custom:(0,a.jsx)("a",{href:(0,p.nr)((0,j.q)(j.A.KeywordSearch,u),h),className:"text-blue-primary",onClick:e=>{e.preventDefault(),(0,D.z_)("".concat(m," - Link Click"),"See all results",n),r&&r()}})}})}),(0,a.jsx)(q,{collections:t,collectionsNumber:o,queryQt:h||"",currentCollectionTitle:m,getResults:r}),(0,a.jsx)("p",{className:"mt-6 mb-2 text-lg text-center text-navy 3sm:text-xl md-4:!text-2xl 3sm:mt-8 md-4:mt-10",children:(0,a.jsx)("b",{children:d("no-results.title-2")})})]})};var E=l(43110),A=l(81701);let P=[x.yl.Ultimate,x.yl.Vital,x.yl.Uncut,x.yl.Foundation,x.yl.EditorialCore],I=e=>{let{children:t,categoriesTitle:l,categoriesBlock:x,viewMoreButton:b,helpSectionTitle:g,helpSection:y,queryQt:w,showAlternativeLink:j=!1,title:k,searchQuery:N,searchParams:D,getResults:F,isLoading:S=!0,isCreativeTab:L}=e,{t:T}=(0,i.$)(),{pathname:q}=(0,n.useRouter)(),{distributorTerritory:I}=(0,m.m)(),{collectionName:O}=(0,u.u)(),U="/stock-video"===q,z=(null==N?void 0:N.collectiontype)&&T("no-results.collection.".concat(N.collectiontype)),B=(0,d.h)(!0),[_,V]=(0,o.useState)([]),[Z,M]=(0,o.useState)(!0);(0,o.useEffect)(()=>{N&&D?P.forEach(e=>{(0,h.dy)(B)(e,N,{...D,ps:1}).then(e=>{V(t=>[...t,{...e}]),M(!1)})}):M(!1)},[]);let $=_.sort((e,t)=>P.indexOf(e.collectionType)-P.indexOf(t.collectionType));if(S||Z)return null;let H=null==_?void 0:_.filter(e=>e.totalMatches).length,G=H&&k||"no-results.title";return(0,a.jsxs)("div",{className:"w-full px-6 pb-6 m-auto font-noto [&>div]:mx-0 3sm:pb-8 md-4:max-w-800 md-4:px-0 md-4:pb-10 2xl:!max-w-1024",children:[(0,a.jsx)("p",{className:"mt-6 mb-2 text-lg text-center text-navy 3sm:text-xl md-4:!text-2xl 3sm:mt-8 md-4:mt-10",children:(0,a.jsx)(s.c,{i18nKey:G,values:{keyword:w,collection:z},components:{bold:(0,a.jsx)("span",{className:"font-bold"})}})}),j&&w&&(0,a.jsx)(C,{queryQt:w,isVideo:U,className:"w-full mr-0 text-center",onClick:()=>{let e=U?f.aU.SeeStockImages:f.aU.SeeStockVideos;(0,f.z_)(e,(0,p.M3)(w),q)}}),!!H&&N&&(0,a.jsx)(R,{collections:$,searchQuery:N,searchParams:D,getResults:F,pathname:q,collectionsNumber:H,isCreativeTab:L}),t,(0,a.jsx)(A.e,{}),(0,a.jsx)("p",{className:"pt-4 pb-6 text-xs text-center 3sm:text-sm 3sm:pt-6 3sm:pb-8 md-4:pb-10",children:T("no-results.text")}),(0,a.jsxs)("div",{className:"mb-12 3sm:mb-16 md-4:mb-20",children:[(0,a.jsx)("h2",{className:"py-6 mx-auto text-2xl font-bold text-center leading-120 tracking-title-heading-3 3sm:text-[26px] 3sm:py-8 md-4:py-10 2xl:tracking-title-heading-2 2xl:text-4.5xl 2xl:leading-120",children:l}),(0,a.jsx)(c.Cn,{children:(0,a.jsx)(v.u,{data:x,qtValue:"",className:"grid-cols-1 3sm:grid-cols-2 2sm:grid-cols-3",itemClassName:"h-[316px] text-center [&>div>div]:text-base [&>div>a]:mx-auto 3sm:h-58 md-4:h-[316px] [&>div>div]:md-4:text-base [&>div>div]:xl:text-base",showNoResults:!0,headerPopulate:I||O})}),b&&(0,a.jsx)(r.DoB,{...(0,r.PnM)(b,I,O),className:"block mx-auto mt-6 font-bold 3sm:w-auto 3sm:px-13"})]}),(0,a.jsx)(E.C,{helpSectionTitle:g,trackParagraphLinkEvent:(e,t)=>{let l=t?f.aU.MailtoClick:f.aU.LinkClick;(0,f.z_)(l,e,q)},helpSection:y})]})}},84192:function(e,t,l){l.d(t,{I:function(){return i}});var a=l(85893),r=l(9008),n=l.n(r),o=l(45381);let i=e=>{let{url:t,locale:l,pageNumber:r=0,isCollectionType:i=!1,isVideoSearch:s=!1,isSameContributorPage:c=!1}=e,d="de"===l,u=(!s||!d)&&!i&&!c&&(d&&!(0,o.o)(t)||!(0,o.o)(t)||(0,o.o)(t)&&r<=3);return u?(0,a.jsx)(n(),{children:(0,a.jsx)("meta",{name:"robots",content:"max-image-preview:large"})}):(0,a.jsx)(n(),{children:(0,a.jsx)("meta",{name:"robots",content:"".concat(u?"index":"noindex",", ").concat((i||s)&&(!s||d)?"nofollow":"follow",", max-image-preview:large")})})}},63529:function(e,t,l){l.d(t,{y:function(){return i}});var a=l(85893),r=l(67814),n=l(25283),o=l(81198);let i=e=>{let{title:t,count:l,showLink:i,linkHref:s,linkText:c,linkIcon:d,onClick:u=()=>void 0,noFollow:m=!1}=e;return(0,a.jsxs)("div",{className:"mt-0 leading-none",children:[(0,a.jsx)("h1",{"data-testid":"search-keyword-heading",className:"inline mr-1 text-lg font-bold",children:t}),(0,a.jsx)("span",{"data-testid":"search-results-count",className:"inline-block pr-2 text-xs",children:"(".concat((0,n.$s)(l),")")}),i&&(0,a.jsxs)(o.A,{role:"button",className:"block text-xs sm:inline-block",href:s,onClick:u,rel:m?"nofollow":void 0,children:[d&&(0,a.jsx)(r.G,{className:"mr-1 text-xs",icon:d}),c]})]})}},12841:function(e,t,l){l.d(t,{h:function(){return p}});var a=l(85893),r=l(13910),n=l(67814),o=l(93967),i=l.n(o),s=l(11163),c=l(80129),d=l(67294),u=l(26793),m=l(31878),h=l(74074),f=l(48833),v=l(17537);let x=e=>{let{title:t,value:l,gtmLabel:r,clickAction:n,selected:o}=e;return(0,a.jsx)("li",{className:i()("flex items-center py-2 text-sm text-black bg-white cursor-pointer px-2.5 font-noto transition hover:bg-light-grey",{"bg-light-grey":t===o}),"data-testid":t,onClick:()=>{l!==o&&n(l,r)},children:(0,a.jsx)("span",{children:t})})},p=e=>{var t;let{options:l,label:o="Sort by",className:p,routerAction:b,initialFilters:g,isHelp:y,trackEvent:w}=e,j=(0,s.useRouter)(),k=(0,c.parse)((0,c.stringify)(j.query)),[N,C]=(0,d.useState)(k.sortBy),{t:D}=(0,u.$)(),{isOpen:F,setIsOpen:S,dropdownMenuProps:L,dropdownButtonProps:T}=(0,m.x)(),{trackBurgerGenerator:q}=(0,h.p)(),R=(e,t)=>{var a;let r={...g,[v.Oz.SortBy]:e,page:void 0};C(e);let n=(null===(a=l.find(t=>t.value===e))||void 0===a?void 0:a.title)||D("search-bar.sort-by.relevant");w&&n&&w(n),(0,f.CB)(t,j.pathname),b(r,!0)},E=(null===(t=l.find(e=>{let{value:t}=e;return t===N}))||void 0===t?void 0:t.title)||D("search-bar.sort-by.relevant"),A=o?D(o):"";return(0,a.jsxs)("div",{className:i()("flex flex-row shrink-0 h-auto max-h-10 font-noto",p),children:[A&&(0,a.jsx)("span",{className:i()("flex items-center shrink-0 text-sm",y?"font-bold md:mb-2 mr-3.5 md:mr-0":"mr-3.5"),children:A}),(0,a.jsxs)("div",{className:"relative size-auto",children:[(0,a.jsxs)("button",{...T,onClick:e=>{e.stopPropagation(),w&&w(F?"Sort by Close":"Sort by Expand"),S(!F),q(o)(F)},"data-testid":"dropdown-button",className:i()("relative flex items-center w-full h-10 py-2 border rounded cursor-pointer select-none border-grey-light-2 px-2.5 focus:outline-none max-w-163",y&&"md:max-w-full"),children:[(0,a.jsx)("div",{className:"w-48 text-sm text-left text-black truncate font-noto","data-testid":"Selected-value-".concat(A),children:E}),(0,a.jsx)("div",{className:"flex items-center h-full ml-auto text-black border-l border-grey-light-2",children:(0,a.jsx)(n.G,{className:"ml-3",size:"1x",icon:r.pt,style:{color:"#C5C5C5"}})})]}),(0,a.jsx)("ul",{...L,className:i()(!F&&"hidden","absolute left-0 w-full mt-1 border border-zinc-100 bg-white overflow-hidden shadow-md top-full z-50 3xs:top-9 md:mt-2 md:rounded"),"aria-hidden":!F,"data-testid":"".concat(A,"-list"),children:l.map(e=>{let{title:t,value:l,label:r}=e;return(0,a.jsx)(x,{title:t,value:l,gtmLabel:r,selected:N,clickAction:R},t.toString())})})]})]})}},71099:function(e,t,l){l.d(t,{Sf:function(){return c},ho:function(){return s},lS:function(){return i},vg:function(){return d}});var a=l(8719),r=l(20494),n=l(17537),o=l(81895);let i=52,s=2,c=10,d=(e,t)=>[{title:e("search-bar.sort-by.relevant"),value:(0,o.vU)(t?t[r.D2]===n.yl.EditorialCore&&n.ER.Relevant||t[r.D2]:""),label:a.X.SortByRelevant},{title:e("search-bar.sort-by.newest"),value:n.ER.NewestDateTaken,label:a.X.SortByNew},{title:e("search-bar.sort-by.oldest"),value:n.ER.Oldest,label:a.X.SortByOld}]},67737:function(e,t,l){l.d(t,{D:function(){return E}});var a=l(85893),r=l(67294),n=l(22926),o=l(1397),i=l(14349),s=l(23937),c=l(49568),d=l(20494),u=l(76540),m=l(4893),h=l(59401),f=l(71099),v=l(93967),x=l.n(v),p=l(11163),b=l(26793),g=l(31671),y=l(48833),w=l(25283),j=l(50594);let k=e=>{let{t}=(0,b.$)(),l="";switch(e.title){case"search-bar.same-contributor":{let a=t(e.isVideo?"search-bar.contributors.same-contributor-video-prefix":"search-bar.contributors.same-contributor-prefix");l="".concat(a,": ").concat(e.contributor);break}case"search-bar.contributors.agency":{let a=t("search-bar.contributors.agency");l="".concat(a,": ").concat(e.agency);break}default:l=(0,w.Q8)(e,t)}return l},N=e=>{let{item:t,onClick:l}=e,r="",n="",o=k(t);switch(t.title){case"search-bar.same-contributor":n=t.contributor?"":"hidden",r="overflow-hidden max-w-auto";break;case"search-bar.contributors.agency":n=t.agency?"":"hidden",r="overflow-hidden max-w-auto";break;default:r="overflow-hidden max-w-56 whitespace-nowrap truncate"}return(0,a.jsxs)("button",{className:x()("flex items-center justify-center px-3 py-2 text-sm text-black bg-white border rounded cursor-pointer border-panel-border max-h-10 min-h-10 font-noto hover:bg-light-grey hover:border-black",n),onClick:l,"data-testid":"AppliedFilters".concat(t.filterName),children:[(0,a.jsx)("span",{"data-testid":"AppliedFilters".concat(t.filterName,"Title"),className:"".concat(r),children:o}),t.color&&(0,a.jsx)("input",{className:"size-4 ml-1.5",type:"color",value:"#".concat(t.color)}),(0,a.jsx)(j.Z,{className:"ml-1 text-21",fontSize:"small",sx:{color:"#1C1B1F"}})]})};var C=l(37340),D=l(8719),F=l(81198);function S(){let e=(0,C._)(["search-bar.applied-filters-advice"]);return S=function(){return e},e}function L(){let e=(0,C._)(["search-bar.applied-filters-remove"]);return L=function(){return e},e}function T(){let e=(0,C._)(["search-bar.applied-filters-Remove"]);return T=function(){return e},e}let q=e=>{let{className:t,hasOverflow:l,toggleExpanded:r,isExpanded:n,clearAll:o,filterCounter:i,showNoResults:s}=e,{t:c,i18n:d}=(0,b.$)(),u=d.getFixedT("en"),m=(0,g.D)(),{pathname:h}=(0,p.useRouter)(),f=n?"search-tags.view-less":"search-tags.view-all";return i?(0,a.jsxs)("div",{className:x()("flex items-center justify-start shrink-0 mx-2.5",t),children:[s?(0,a.jsxs)("span",{className:"font-bold text-center text-4xs 3sm:text-base",children:[c(S()),"\xa0"]}):(0,a.jsx)("div",{className:"flex items-center shrink-0 h-10 min-h-10",children:l&&!m&&(0,a.jsx)(F.A,{role:"button",onClick:e=>{r(e),(0,D.z_)(D.aU.FilterInteraction,"".concat(u(f)," filters"),h)},children:c(f)})}),(0,a.jsx)("button",{className:x()("flex items-center shrink-0 text-sm font-noto text-blue",s?"text-4xs 3sm:text-base":"h-10 min-h-10"),onClick:o,"data-testid":"AppliedFiltersRemoveAll",children:c(s?L():T())})]}):null},R=(0,r.forwardRef)((e,t)=>{let{isExpanded:l,currentFilters:r,hasOverflow:n,handleItem:o,clearAll:i,toggleExpanded:s,className:c,filterCounter:d,showNoResults:u}=e,{i18n:m}=(0,b.$)(),h=(0,g.D)(),f=m.getFixedT("en"),{pathname:v}=(0,p.useRouter)();return(0,a.jsxs)("div",{"data-testid":"AppliedFiltersList",ref:t,className:x()("flex flex-wrap -mx-2 -my-1.5",l||h?void 0:"overflow-hidden max-h-24 xs:max-h-12",c),children:[r.map(e=>(0,a.jsx)("div",{className:x()("px-2 py-1.5",u&&"hidden 3sm:flex"),children:(0,a.jsx)(N,{item:e,onClick:()=>{let t=(0,w.B)(e),l=(0,w.Q8)(e,f,!0),a=t?"".concat(f(t)," - ").concat(l):l;(0,y.sO)(a,v),o(e.filterName,e.title,e.specialEnum)}})},"".concat(e.filterName,"_").concat(e.title))),l&&(0,a.jsx)(q,{className:x()(u?"justify-center w-full order-first flex-col 3sm:flex-row py-1 3sm:py-1.5":"px-2 py-1.5"),hasOverflow:n,toggleExpanded:s,clearAll:i,isExpanded:l,filterCounter:d,showNoResults:u})]})}),E=e=>{let{isFilterPanelOpen:t,className:l,onFilterChange:v,userDefaultsConfig:x=h.zg,isVideo:p,initialFilters:b={},showNoResults:g}=e,{currentWidth:y,isSmallerThanMobileWidth:w}=(0,o.Q)(),j=f.lS*f.Sf,k=y&&w?f.lS*f.ho:f.lS,N=g?j:k,{containerRef:C,hasOverflow:D,isExpanded:F,toggleExpanded:S,update:L}=(0,n.E)(N),T=(0,u.kY)(p);(0,r.useEffect)(()=>L(N),[t]);let{currentFilters:E,clearAll:A,handleItem:P}=(0,i.s)({filters:b,filterType:T,action:v,userDefaultsConfig:x}),I=(0,c.Nq)((0,m.c_)({...b,[d.rN]:"video"===T?null==b?void 0:b.edrf:void 0,[d.RL]:"video"===T?void 0:null==b?void 0:b.lic})),O=(0,s.a)(),U=(0,m.UF)(I,O,x),z=E.map(e=>"search-bar.same-contributor"===e.title?{...e,contributor:b.contributor||b.name,isVideo:p}:e);return(0,a.jsxs)("div",{className:E.length&&g?"p-6 my-4 border rounded-lg-2 border-panel-border flex justify-center 3sm:my-6":"flex justify-start","data-testid":"applied-filterslist-cleaners",children:[(0,a.jsx)(R,{clearAll:A,toggleExpanded:S,isExpanded:F,currentFilters:z,handleItem:P,hasOverflow:D,ref:C,className:l,filterCounter:U,showNoResults:g}),!F&&(0,a.jsx)(q,{hasOverflow:D,toggleExpanded:S,isExpanded:F,clearAll:A,className:l,filterCounter:U})]})}},59802:function(e,t,l){l.d(t,{T:function(){return x}});var a=l(37340),r=l(85893),n=l(11163),o=l(10708),i=l(26793),s=l(8719),c=l(86796),d=l(20494),u=l(25283),m=l(33666),h=l(48896),f=l(50440);function v(){let e=(0,a._)(["video-search.search.search-result"]);return v=function(){return e},e}let x=e=>{var t;let{originUrl:l,queryQt:a,totalMatches:x,activePageData:p,onPageChanged:b,isImage:g}=e,{t:y}=(0,i.$)(),[w]=(0,o.Z)([d.mh]),j=(0,n.useRouter)(),k=(0,u.$s)(x),N=g?"image-search.".concat((0,m.t)("h2-title",w[d.mh],1)):"video-search.search.video-title",C=(0,c.Ue)(null===(t=j.query)||void 0===t?void 0:t.categorySlug),D=C?y("categories.".concat(C)):a;return(0,r.jsxs)("div",{className:"w-full pt-8",children:[(0,r.jsx)("div",{className:"w-full h-px border border-t-panel-border"}),(0,r.jsxs)("div",{className:"flex justify-end w-full px-5 py-8 1.5xl:pb-20 1.5xl:justify-between 1.5xl:py-2.5 font-noto",children:[(0,r.jsx)("h2",{className:"hidden mr-1 text-sm 1.5xl:block font-noto","data-testid":"search-results-bottom",children:"".concat(y(v())," ").concat(decodeURIComponent(y(N,{keyword:(0,f.Bv)((0,d.BM)(j.query)?"":encodeURIComponent(D))}))," (").concat(k,")")}),(0,r.jsx)("div",{className:"pt-2",children:(0,r.jsx)(h.t,{originUrl:l,isVideo:!g,activePage:p.activePage,totalPages:p.totalPages,isGoToPage:!0,setActivePage:b,trackEvent:e=>{(0,s.z_)(s.aU.PaginationButtonClickBottom,e,j.pathname)}})})]})]})}},48326:function(e,t,l){l.d(t,{$:function(){return ex}});var a=l(85893),r=l(86221),n=l(44084),o=l(67814),i=l(11163),s=l(26793),c=l(20494),d=l(17537),u=l(81895),m=l(87312),h=l(332),f=l(31671),v=l(29479),x=l(8719),p=l(48833),b=l(49568),g=l(76540),y=l(48896),w=l(54360),j=l(3799),k=l(93967),N=l.n(k),C=l(18446),D=l.n(C),F=l(67294),S=l(10708),L=l(65064),T=l(22926),q=l(1397),R=l(75195),E=l(86796),A=l(33666),P=l(50440),I=l(63529),O=l(81198),U=l(69454);let z=e=>{let{queryQt:t,count:l,video:r,isAlternativePageAvailable:n,setLoader:o}=e,d=(0,i.useRouter)(),{t:u}=(0,s.$)(),m=(0,v.b)(),[f]=(0,S.Z)([c.mh]),p=(0,h.q)(r?h.A.KeywordSearch:h.A.KeywordVideoSearch,m),{regionalDistributor:b}=(0,F.useContext)(L.T),g=((e,l)=>{let a=l?u("categories.".concat(l)):t;return e?u("video-search.search.video-title",{keyword:(0,P.Bv)(a)}):l?u("image-search.h1-title-category",{keyword:a}):decodeURIComponent(u("image-search.".concat((0,A.t)("h1-title",f[c.mh],1)),{keyword:(0,P.Bv)(encodeURIComponent(a))}))})(r,(0,c.IT)(d.query)?(0,E.Ue)(d.query.categorySlug):null),y=r?x.aU.SeeStockImages:x.aU.SeeStockVideos,k=!r&&"de"===m,N=!r&&!["de","en"].includes(m),C=!(0,c.IT)(d.query)&&!!n&&!(0,c.TN)(t,d.query)&&!b&&!N,D=decodeURIComponent(u(r?"video-search.search.see-images":"image-search.see-videoclips",{keyword:(0,P.M3)(encodeURIComponent(t))}));return(0,a.jsx)(I.y,{title:g,count:l,showLink:C,linkHref:(0,P.nr)(p,t),linkIcon:r?j.Vm:w.Cj,linkText:D,onClick:()=>{o(!0),(0,x.z_)(y,(0,P.M3)(t),d.pathname)},noFollow:k})},B=e=>{let{keywords:t,disableLinkForBot:l=!1,video:r=!1,text:n,pagination:o,useCustomHeading:d=!1,isFilterPanelOpen:u=!1,setLoader:p,searchQuery:y,totalMatches:w}=e,{t:j,i18n:k}=(0,s.$)(),C=k.getFixedT("en"),{currentWidth:S,isSmallerThanMobileWidth:L}=(0,q.Q)(),E=S&&L?96:48,{containerRef:A,hasOverflow:I,isExpanded:z,toggleExpanded:B,update:_}=(0,T.E)(E),V=(0,v.b)(),{pathname:Z,asPath:M}=(0,i.useRouter)(),$=(0,h.q)(h.A.KeywordSearch,V),H=(0,f.D)(),G=(0,i.useRouter)(),Y=!!t.length&&!!w,K=z?"search-tags.show-fewer":"search-tags.show-all",Q=e=>r?(0,P.Td)(e,V):"".concat($).concat(encodeURIComponent((0,U.tF)(e)),".html"),J=e=>M.includes("/category/")?"/category/".concat(encodeURIComponent((0,U.tF)(e)),".html"):Q(e),{distributorTerritory:X}=(0,R.m)((0,h.q)(h.A.KeywordSearch,"en")),W=X||"";return(0,F.useEffect)(()=>_(E),[u]),(0,a.jsxs)("div",{className:"text-black text-bold font-noto ",children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(O.M,{text:n,collapseRuler:!0,hideLine:!0,useCustomHeading:d})}),I&&!H&&(0,a.jsx)(O.A,{role:"button",onClick:e=>{B(e),(0,x.z_)(x.aU.ClickOnRelatedSearch,C(K),Z)},className:"mb-4",children:j(K)}),(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("div",{className:N()("flex w-full flex-col lg:flex-row lg:w-3/5",Y?"justify-between":"justify-end"),children:Y&&(0,a.jsx)("div",{className:z||H?void 0:"overflow-hidden max-h-24 xs:max-h-12",ref:A,children:(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)("div",{"data-testid":"suggestions-list",className:"flex flex-wrap -mb-3",children:t.map(e=>{let t="string"==typeof e?e:e.key,r="string"==typeof e?e:e.label,n="string"==typeof e?J(e):e.href,o=(0,g.Wd)(n,W),i=o===(0,h.q)(h.A.Browse,V),s=(0,b.Nq)({...y,qt:void 0,page:void 0,video:void 0,t:void 0,dist:void 0,ispartial:void 0,categorySlug:void 0,lightbox:void 0,fieldname:void 0,categoryPageKey:void 0,name:void 0,en:void 0,fr:void 0,de:void 0,it:void 0,editorial:void 0});return l?(0,a.jsx)(U.x6,{keyword:r},t):(0,a.jsx)(U.Vp,{searchUrl:!s||D()(s,{})||i||(0,c.IT)(G.query)?o:"".concat(o,"?").concat((0,g.wV)(s)),keyword:r,onClick:()=>{p(!0),(0,x.z_)(t===m.T?x.aU.ClickOnAllCategories:x.aU.ClickOnRelatedSearch,t,Z)}},t)})})})})}),(0,a.jsx)("div",{className:"mt-2",children:o})]})]})};var _=l(28521),V=l(59176),Z=l(14349),M=l(12841),$=l(71099),H=l(67737),G=l(37340),Y=l(75395),K=l(23937),Q=l(4893),J=l(59401);function X(){let e=(0,G._)(["video-search.filter-title"]);return X=function(){return e},e}let W=e=>{let{onFilterClick:t,isFilterPanelOpen:l,userDefaultsConfig:r=J.zg,initialFilters:n,isFilterFlyoutOpen:o,isVideo:i}=e,{t:d}=(0,s.$)(),{currentWidth:u}=(0,q.Q)(),m=(0,b.Nq)((0,Q.c_)({...n,[c.rN]:i?null==n?void 0:n.edrf:void 0,[c.RL]:i?void 0:null==n?void 0:n.lic})),h=(0,K.a)(),f=(0,Q.UF)(m,h,r),v=d(X()),x=l&&u>=_.R6||o&&u<_.R6;return(0,a.jsxs)("button",{title:v,className:N()("flex items-center justify-center text-sm border rounded select-none px-6 py-2 max-h-10 min-h-10 3sm:mr-4 shrink-0",x?"bg-black text-white":"bg-white text-black",x?"border-black":0===f?"border-black hover:bg-light-grey":"border-2 border-guppie-hover hover:bg-light-grey"),onClick:t,"data-testid":"filter-panel",children:[(0,a.jsx)(Y.Z,{className:"text-sm"}),(0,a.jsxs)("span",{className:"flex grow text-sm font-bold 2sm:pl-2 font-noto",children:[(0,a.jsx)("span",{className:"hidden 2sm:block",children:v}),!!f&&(0,a.jsx)("span",{className:"pl-1 font-noto","data-testid":"NumberOfFilters",children:" (".concat(f,")")})]})]})},ee=e=>{let{initialFilters:t,setLoader:l,routerAction:r,isFilterPanelOpen:n,userDefaultsConfig:o,onFilterClick:i,onFilterChange:c,isVideo:d,isFilterFlyoutOpen:u}=e,{t:m}=(0,s.$)(),{currentWidth:h}=(0,q.Q)(),{isMobile:f}=(0,V.p)(),v=h>=_.uU,x=(0,g.kY)(d),{currentFilters:p}=(0,Z.s)({filters:t,filterType:x,action:c,userDefaultsConfig:o});return(0,a.jsxs)("div",{className:"sticky bg-white z-12 top-[57px] 3sm:top-[73px]",children:[(0,a.jsxs)("div",{className:"sticky flex p-6 bg-white 3sm:justify-between z-12 md-4:mb-0 top-[57px] 3sm:top-[73px]",children:[(0,a.jsxs)("div",{className:"flex justify-start",children:[(0,a.jsx)(W,{onFilterClick:i,initialFilters:t,isFilterPanelOpen:n,userDefaultsConfig:o,isFilterFlyoutOpen:u,isVideo:d}),v&&(0,a.jsx)(H.D,{className:"hidden md-4:flex",isFilterPanelOpen:n,onFilterChange:c,userDefaultsConfig:o,initialFilters:t,isVideo:d})]}),(0,a.jsx)("div",{className:"shrink-0 ml-4",children:(0,a.jsx)(M.h,{options:(0,$.vg)(m,t),className:"justify-end w-full lg:w-auto lg:justify-start",routerAction:(e,t)=>{l(!0),r(e,t)},initialFilters:t,label:h>=_.lP?"search-bar.sort-by.label":""})})]}),!v&&!f&&(0,a.jsx)("div",{className:p.length?"flex justify-start p-6 border-t border-panel-border md-4:hidden":"",children:(0,a.jsx)(H.D,{className:"flex md-4:hidden",isFilterPanelOpen:n,onFilterChange:c,userDefaultsConfig:o,initialFilters:t,isVideo:d})})]})};function et(){let e=(0,G._)(["image-search.quick-filters"]);return et=function(){return e},e}let el=e=>{let{filters:t,isSmall:l,trackEvent:r=()=>void 0}=e,{t:n}=(0,s.$)(),[,o]=(0,S.Z)(),u=l?d.nN.Mobile:d.nN.Side,m=(0,i.useRouter)();return(0,a.jsxs)("div",{"data-testid":"quick-filters",className:"flex flex-col mt-1 text-sm text-black xs:mt-2.5 font-noto xs:flex-row",children:[(0,a.jsx)("span",{className:"mr-1 font-bold",children:n(et())}),(0,a.jsx)("div",{children:t.map((e,l)=>{let{title:n,href:i,label:s}=e;return(0,a.jsxs)("span",{children:[(0,a.jsx)("a",{href:i,className:"hover:text-blue-deep",onClick:e=>{e.preventDefault(),r(s),o(c.uK,u,{path:"/"}),m.push(i)},children:n}),l<t.length-1&&" | "]},"".concat(n,"-").concat(l))})})]})};var ea=l(80129),er=l(31542);function en(){let e=(0,G._)(["image-search.cut-outs"]);return en=function(){return e},e}function eo(){let e=(0,G._)(["image-search.cut-outs"]);return eo=function(){return e},e}function ei(){let e=(0,G._)(["image-search.black-white"]);return ei=function(){return e},e}function es(){let e=(0,G._)(["image-search.black-white"]);return es=function(){return e},e}function ec(){let e=(0,G._)(["search-bar.filter-vectors"]);return ec=function(){return e},e}function ed(){let e=(0,G._)(["search-bar.filter-vectors"]);return ed=function(){return e},e}let eu=(e,t,l)=>{if(e.includes(t)){let a=new RegExp("".concat(t,"=[0-9]"));return e.replace(a,"".concat(t,"=").concat(l))}let a=e.includes("?")?"&":"?",r="".concat(e).concat(a).concat(t,"=").concat(l);return(0,g.b9)(r)},em=e=>{let[t,l]=e.split("?"),{page:a,qt:r,...n}=(0,ea.parse)(l),o=(0,ea.stringify)(n);return"".concat(t,"?").concat(o)},eh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=arguments.length>2?arguments[2]:void 0,a=[];if(!l)return a;let{t:r,i18n:n}=(0,s.$)(),o=n.getFixedT("en"),i=e.includes("?")?em(e):e;if("photo"===t){let e={cutoutCount:{title:r(en()),href:eu(i,"cutout",1),filterType:c.wT,label:o(eo())},blackAndWhiteCount:{title:r(ei()),href:eu(i,"blackwhite",1),filterType:c.i0,label:o(es())},vectorCount:{title:r(ec()),href:eu(i,"imgt",er.lJ.Vectors),filterType:c.mf,label:o(ed())}};return Object.keys(l).forEach(t=>Number(l[t])>0&&a.push(e[t])),a}return a},ef=e=>{let{originUrl:t,queryQt:l,totalMatches:r,activePageData:n,onPageChanged:o,relatedSearches:d,isVideo:u=!0,isSmall:w=!1,initialFilters:j,isAlternativePageAvailable:k,isFilterPanelOpen:N=!1,imgTypesCount:C,setLoader:D,searchQuery:F,routerAction:S,loader:L,onFilterClick:T,onFilterChange:q,isFilterFlyoutOpen:R,showQuickFilters:E,userDefaultsConfig:A,showNoResults:P}=e,I=(0,f.D)(),O=u?I?7:3:7,U=(0,g.kY)(u),_=(0,v.b)(),{t:V}=(0,s.$)(),{asPath:Z,pathname:M,query:$}=(0,i.useRouter)(),H=(null==d?void 0:d.slice(0,O))||[],G=(0,b.Nq)({...j,qt:void 0,page:void 0,video:void 0,[c.D2]:void 0,sortBy:void 0,bespoke:void 0,t:void 0,dist:void 0}),Y=eh(Z.replace(".html/",".html"),U,C||{cutoutCount:"0",vectorCount:"0",blackAndWhiteCount:"0"}),K=[];return E&&(K=Y.filter(e=>!Object.keys(G).includes(e.filterType))),(0,c.IT)($)&&H.push({key:m.T,label:V("image-search.see-all-categories"),href:(0,h.q)(h.A.Browse,_)}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ee,{routerAction:S,initialFilters:j,setLoader:D,isFilterPanelOpen:N,onFilterClick:T,onFilterChange:q,isVideo:u,isFilterFlyoutOpen:R,userDefaultsConfig:A}),!L&&!P&&(0,a.jsx)("div",{className:"px-5",children:(0,a.jsx)(B,{keywords:H,video:u,useCustomHeading:!0,isFilterPanelOpen:N,searchQuery:F,text:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z,{video:u,queryQt:l,count:r||0,isAlternativePageAvailable:k,setLoader:D}),E&&K.length>0&&(0,a.jsx)(el,{filters:K,isSmall:w,trackEvent:e=>{D(!0),(0,p.CB)(e,M)}})]}),pagination:(0,a.jsx)("div",{className:"hidden xl:block",children:(0,a.jsx)(y.t,{originUrl:t,activePage:n.activePage,totalPages:n.totalPages,isGoToPage:!0,isVideo:"video"===U,setActivePage:o,trackEvent:e=>{(0,x.z_)(x.aU.PaginationButtonClickTop,e,M)}})}),setLoader:D,routerAction:S,initialFilters:j,loader:L,totalMatches:r})})]})},ev=e=>{let{tab:t}=e,{t:l}=(0,s.$)(),r=l("search-filter-tabs.".concat(t)),i=l("search-filter-tabs.tab-text",{tab:r});return(0,a.jsxs)("div",{className:"px-5 pt-9",children:[(0,a.jsx)(o.G,{className:"mr-1",icon:n.RL}),i]})},ex=e=>{let{subTab:t,queryQt:l,isSmall:n,mainTab:o,isVideo:s,originUrl:m,setSubTab:h,setMainTab:f,totalMatches:v,notSideFilter:x,onPageChanged:p,activePageData:b,relatedSearches:g,initialFilters:y={},isVideoResultsAvailable:w,onFilterClick:j,onFilterChange:k,openFlyout:N,imgTypesCount:C,setLoader:D,searchQuery:F,routerAction:S,loader:L,showQuickFilters:T,userDefaultsConfig:q,showNoResults:R}=e,E=s||w,{query:A}=(0,i.useRouter)(),P=(0,c.IT)(A),I=!!(o&&t&&(0,u.jF)(o)===d.yl.AllCreative&&P),O=P&&!(0,c.BM)(A)||(0,c.TN)(l,A);return(0,a.jsxs)(a.Fragment,{children:[!s&&!O&&(0,a.jsx)("div",{className:"flex w-full p-6 border-t border-grey-border bg-light-grey",children:(0,a.jsx)(r.uCm,{selectedTab:o,selectedSubTab:t,handleTabChange:f,handleSubTabChange:h})}),I&&(0,a.jsx)(ev,{tab:(0,u.db)(t||0)}),(0,a.jsx)(ef,{originUrl:m,activePageData:b,queryQt:l,totalMatches:v,onPageChanged:p,relatedSearches:g,isVideo:s,isSmall:n,initialFilters:y,isAlternativePageAvailable:E,isFilterPanelOpen:!x&&!n,isFilterFlyoutOpen:N===d.nN.Mobile,imgTypesCount:C,setLoader:D,searchQuery:F,routerAction:S,loader:L,showQuickFilters:T,onFilterClick:j,onFilterChange:k,userDefaultsConfig:q,showNoResults:R})]})}},8044:function(e,t,l){l.d(t,{q:function(){return u}});var a=l(11163),r=l(80129),n=l(67294),o=l(10708),i=l(25501),s=l(28228),c=l(20494),d=l(76540);let u=function(e){var t,l;let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",[m,h]=(0,o.Z)([c.Jk]),[f,v]=(0,n.useState)(!1),x=(0,a.useRouter)(),p=m[c.Jk]||window[c.Jk],b=t=>{let{as:l}=t;if(l!==x.asPath){var a;v(!0),m[c.Jk]||h(c.Jk,!0,{path:"/"}),window[c.Jk]="true";let t=null===(a=new URL((0,d.FW)("https://alamy.com",l)).search)||void 0===a?void 0:a.substring(1),r=new URLSearchParams("".concat(t).concat(u));e&&e(r,!0),x.replace(l,void 0,{shallow:!0})}return!0},g="undefined"!=typeof performance&&(null===(l=performance)||void 0===l?void 0:null===(t=l.getEntriesByType("navigation"))||void 0===t?void 0:t.some(e=>null==e?void 0:e.type.includes("back_forward"))),y=()=>{if(g&&!f){h(c.Jk,!0,{path:"/"}),window[c.Jk]="true";let t=new URLSearchParams("".concat((0,r.stringify)(x.query,{arrayFormat:"comma"})).concat(u));e&&e(t,!0),x.replace(x.asPath,void 0,{shallow:!0})}};return(0,n.useEffect)(()=>(x.beforePopState(b),window.addEventListener("load",y),()=>{v(!1),window.removeEventListener("load",()=>!0),x.beforePopState(()=>!0)}),[]),{browserNavigationEvent:p,removeBrowserNavigationEvent:()=>{v(!1),window[c.Jk]="",(0,s.hl)(new i.Z(window.document.cookie||""),void 0,c.Jk)},beforePopStateCallback:b,isBrowserArrowAction:g,onLoadListen:y}}},57158:function(e,t,l){l.d(t,{R3:function(){return s},mF:function(){return i},qF:function(){return c}});var a=l(33484),r=l(33013),n=l(4401);let o=e=>t=>{var l;return(null==t?void 0:null===(l=t.fields)||void 0===l?void 0:l.customerSegment)===e},i=(e,t)=>{let l=null==e?void 0:e.filter(e=>o(t)(e)),a=null==e?void 0:e.filter(e=>o(r.o.Default)(e));if(!l||(null==l?void 0:l.length)===0)return a;if((null==l?void 0:l.length)===1){let e=null==a?void 0:a.filter(e=>{var l,a;return e.fields.screenType!==(null===(a=t[0])||void 0===a?void 0:null===(l=a.fields)||void 0===l?void 0:l.screenType)});return null==l?void 0:l.concat(e)}return l},s=(e,t)=>{let l=null==e?void 0:e.filter(e=>o(t)(e)),a=!!(null==l?void 0:l.length)&&l||(null==e?void 0:e.filter(e=>o(r.o.Default)(e)));return a&&a[0]},c=async(e,t)=>await (0,n.R)("".concat(e,"-").concat(t),()=>(0,a.F6)(t,{content_type:e,"fields.customerSegment[in]":"".concat(r.o.New,",").concat(r.o.Returning,",").concat(r.o.Enterprise,",").concat(r.o.ImagePack,",").concat(r.o.VideoPack,",").concat(r.o.Default)}))||[]},68990:function(e,t,l){l.d(t,{w:function(){return o}});var a=l(83109),r=l(33013);let n=e=>{var t;let l=null==e?void 0:null===(t=e.imagePack)||void 0===t?void 0:t.packs;if((null==e?void 0:e.audienceType)===a.AudienceType.SalesAddressable)return r.o.Enterprise;if(l&&l.length>0){let e=l.filter(e=>"video"===e.productType);return(null==e?void 0:e.length)>0?r.o.VideoPack:r.o.ImagePack}return r.o.Returning},o=(e,t,l,a)=>!a&&(t||l&&e&&l.substr(1,l.length-2)!==e)?n(t):r.o.New},74074:function(e,t,l){l.d(t,{p:function(){return o}});var a=l(11163),r=l(26793),n=l(48833);let o=()=>{let{pathname:e}=(0,a.useRouter)(),{i18n:t}=(0,r.$)(),l=t.getFixedT("en");return{trackBurgerGenerator:t=>(0,n.X3)(t,e,l),trackFilterGenerator:(t,a)=>(0,n.ZJ)(t,a,e,l)}}},86028:function(e,t,l){l.d(t,{V:function(){return b}});var a=l(83109),r=l(67294),n=l(65885),o=l(68466),i=l(83423),s=l(86420);let c=e=>async t=>{try{let{data:l}=await e.get("user/".concat(t,"/"));return l.access_token}catch(e){return(0,s.S3)(e),""}};var d=l(3322),u=l(64521),m=l(82604),h=l(43301),f=l(25283),v=l(41960),x=l(31671),p=l(29479);let b=e=>{let{cookiesItem:t,defaultPageData:l,disabledCart:s=!1}=e,b=(0,p.b)(),g=(0,v.h)(),y=(0,x.D)(),[w,j]=(0,r.useState)({isIQ:!1,licences:[],lightboxes:[],cart:[],authInfo:{session:{},user:null},layoutData:{currency:a.CurrencyCode.GBP,countryCode:null,contactNumber:"",imageCount:0,isDefaultData:!0},cookieDomain:"",...l}),k=async()=>{var e,r,v,x,p,w,k,N;let C=document.domain,D=(null==l?void 0:l.authInfo)||await (0,i.yr)(g)(t||new n.Z(""),void 0,b,C,y),F=null==D?void 0:null===(e=D.user)||void 0===e?void 0:e.audienceType;!F||(null==t?void 0:t.get("AudienceType"))||(0,i.sc)(t||new n.Z(""),void 0,F,b);let S=!!(0,u.b)(t||new n.Z("")),L=null==t?void 0:t.get("ctToken"),T=(null===(r=(0,u.b)(t||new n.Z("")))||void 0===r?void 0:r.type)===a.AuthTokenType.Soft,q=(0,m.l)(t||new n.Z("")),R=await (0,d.dL)(),E=!y&&S&&(0,m.Z)(b,D.user,o.y.PageData,t)&&q&&T&&!L?await c(R)(q.value):"",A=await (0,h.um)(g,D,S,b,C,E,t,s);j(null==A?void 0:null===(v=A.props)||void 0===v?void 0:v.pageData);let P=null==A?void 0:null===(w=A.props)||void 0===w?void 0:null===(p=w.pageData)||void 0===p?void 0:null===(x=p.authInfo)||void 0===x?void 0:x.user;null===(N=window)||void 0===N||null===(k=N.dataLayer)||void 0===k||k.push((0,f.A5)(P))};return(0,r.useEffect)(()=>{var e;let t=!1;window.addEventListener("load",()=>{t||(t=!0,k())}),"complete"!==document.readyState&&"interactive"!==document.readyState||t||void 0===(null===(e=window)||void 0===e?void 0:e.dataLayer)||(t=!0,k())},[]),{pageData:w}}},88329:function(e,t,l){l.d(t,{p:function(){return s}});var a=l(80129),r=l(10708),n=l(50440),o=l(20494),i=l(76540);let s=()=>{let[,e]=(0,r.Z)([o.mh]),[t,l]=(0,r.Z)([o.Pv]),s=(0,a.parse)(t[o.Pv]);return{saveCookies:function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=r?Object.fromEntries(t):t;e(o.mh,(0,i.wV)(c),{path:"/"}),l(o.Pv,(0,a.stringify)({...s,qt:(0,n.hH)((0,i.ZG)((r?t.get("qt"):null==t?void 0:t.qt)||"")),imgt:r?t.get("imgt"):t.imgt,pn:(r?t.get("page"):t.pages)||1}),{path:"/",domain:(0,i.PM)()})}}}},46951:function(e,t,l){l.d(t,{p2:function(){return i}});var a=l(11163),r=l(67294);let n=e=>{sessionStorage.setItem("scrollPos:".concat(e),JSON.stringify({x:window.scrollX,y:window.scrollY}))},o=(e,t)=>{var l,a;let r=sessionStorage.getItem("scrollPos:".concat(e)),n=r?JSON.parse(r):void 0,o=!!t&&(null===(a=performance)||void 0===a?void 0:null===(l=a.navigation)||void 0===l?void 0:l.type)===1;n&&!o&&window.scrollTo({top:n.y,left:n.x})},i=()=>{let e=(0,a.useRouter)();return(0,r.useEffect)(()=>{if(!("scrollRestoration"in window.history))return;window.history.scrollRestoration="manual";let t=()=>{n(e.asPath)};return window.addEventListener("pagehide",t),()=>{window.removeEventListener("pagehide",t),e.beforePopState(()=>!0)}},[]),{restoreScrollPosition:o}}},7466:function(e,t,l){l.d(t,{s:function(){return c}});var a=l(50440),r=l(43672),n=l(92658),o=l(37405),i=l(20494),s=l(76540);let c=async(e,t,l,c,d,u)=>{let m=t.fieldname?"".concat(t.qt,"/f:").concat(t.fieldname):t.qt;return(await (0,o.L)([(0,r.uX)(e)(l,c),(0,i.rQ)(t,m)?(0,r.uM)(e)((0,a.hH)((0,s.ZG)(m)),c.locale,!0):null,d?(0,r.Lm)(e)(l,{...c,ps:u?n.VS:n.Mk}):null])).map((e,t)=>"rejected"===e.status?0===t&&{}||null:e.value)}},14349:function(e,t,l){l.d(t,{s:function(){return w}});var a=l(11163),r=l(80129),n=l(67294),o=l(10708),i=l(25501),s=l(26793),c=l(4893),d=l(17537),u=l(33190),m=l(81895),h=l(59401),f=l(48833),v=l(28228),x=l(99002),p=l(49568),b=l(20494),g=l(25283),y=l(23937);let w=e=>{let{filterType:t,filters:l={},action:w,userDefaultsConfig:j=h.zg}=e,[k]=(0,o.Z)([b.Hg,b.D7]),N=null==k?void 0:k.appliedFilter,C=(0,r.parse)(null==k?void 0:k.appliedAgency),D=N&&Object.values((0,r.parse)(N)),[F,S]=(0,n.useState)(D||[]),L=(0,y.a)(),T=L&&L.isIQUser,{t:q,i18n:R}=(0,s.$)(),E=R.getFixedT("en"),{pathname:A}=(0,a.useRouter)(),[P]=(0,o.Z)([b.D7]),I="video"===t?{[b.RL]:void 0}:{},O=(0,p.Nq)({...l,qt:void 0,page:void 0,video:void 0,bespoke:void 0,[b.xz]:l[b.xz]&&l[b.HZ]?void 0:l[b.xz],[b.D2]:void 0,lightbox:void 0,[b.YA]:void 0,[b.SY]:void 0,...I}),U=[...(0,c.cm)(t,!!T)],z=e=>e.sort((e,t)=>U.findIndex(t=>t.filterName===e.filterName)-U.findIndex(e=>e.filterName===t.filterName)),B=e=>(0,v.CI)(new i.Z(window.document.cookie||""),void 0,b.Hg,(0,r.stringify)(e),{encode:String}),_=(e,t)=>t.some(t=>null==e?void 0:e.includes(t));(0,n.useEffect)(()=>{let e=[];Object.entries(O).forEach(t=>{let[a,r]=t;"0"!==O[a]&&""!==O[a]&&U.forEach(t=>{let n=t.filterName===c.I4.RightsManaged&&"lic"===a&&"rm"===r||t.filterName===c.I4.RoyaltyFree&&"lic"===a&&"rf"===r,o=Array.isArray(r)&&_(r,[E("".concat(t.specialEnum)).toLowerCase(),E("".concat(t.specialEnum))])&&t.filterName===a,i=b.Cf===a.toLowerCase()&&t.specialEnum===r,s=a===b._i,m=a===b.HC,h=a===d.SolrDateTaken.DateFrom||a===d.SolrDateTaken.DateTo,f=x.GF,v=O[d.SolrDateTaken.DateTo]&&O[d.SolrDateTaken.DateTo]!==f,p=e.some(e=>e.date),y=a===b.ar||a===b.Jh,j=e.some(e=>e.duration),k=O[b.ar],N=O[b.Jh],D=a===b.g0,F=a===b.vL,S=P[b.D7],L=F&&S&&S.id===r?S:null;if(!((s||m)&&r!==t.specialEnum||h&&p||y&&j||(0,u.FR)(k,N))&&(o&&e.push(t),i&&e.push(t),t.filterName.toLowerCase()===a.toLowerCase()&&!Array.isArray(r)&&a!==b.Cf||n)){var T,q;let n=a===b.YO,o=h&&!v&&Object.values(d.L7).find(e=>(0,x.oO)(e)===r)||d.L7.Custom,i=o&&(null===(q=(0,c.uf)(l,w).filters)||void 0===q?void 0:null===(T=q.find(e=>e.filterName===o))||void 0===T?void 0:T.title);e.push(F||n||h&&!p||y||D||L?{title:t.title,filterName:t.filterName,specialEnum:t.specialEnum,mainTitle:t.mainTitle,...F&&{agency:C.name},...n&&{color:r},...h&&{date:i||"search-bar.date-taken.custom"},...y&&{duration:"".concat((0,g.Il)(k||u.qz)," - ").concat((N||u.AW)>120?"2:00+":(0,g.Il)(N||u.AW))},...(D||L)&&{contributor:L?L.name:r},...(D||L)&&{contributor:L?L.name:r}}:t)}})}),B(z(e)),S(z(e))},[JSON.stringify(l)]);let V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};[b.HZ,b.xz].includes(e)&&b.Vi.forEach(e=>{t[e]=void 0})},Z=()=>{(0,v.hl)(new i.Z(window.document.cookie||""),void 0,b.D7)};return{handleItem:(e,t,l)=>{let a={},{DateFrom:r,DateTo:n}=d.SolrDateTaken;if(j.isFilterLocked(e))return;e===b.vL&&Z(),Object.entries(O).forEach(t=>{let[o,i]=t;o.toLowerCase()===e.toLowerCase()&&(a[e]=Array.isArray(i)?i.filter(e=>e.toLowerCase()!==E("".concat(l)).toLowerCase()):void 0),o===b.Cf&&(a[b.NW]=void 0),e===b.HC&&(a[b.NW]=void 0),(e===r||e===n)&&O[r]&&O[n]&&(a[r]=void 0,a[n]=void 0),(e===b.ar||e===b.Jh)&&O[b.ar]&&O[b.Jh]&&(a[b.ar]=void 0,a[b.Jh]=void 0),e===d._K.PseudoID&&(Object.values(d._K).forEach(e=>{a[e]=void 0}),a.contributor=void 0),o.toString().toLowerCase()===l.toString().toLowerCase()&&[c.I4.RoyaltyFree,c.I4.RightsManaged].includes(e)&&(a[o]=void 0),V(e,a)});let o=z(F.filter(e=>e.title.toLowerCase()!==t.toLowerCase())),i=()=>{B(o),w(a,!1)};j.isConfirmationRequiredForFilter(e)?j.confirmChange(e,q("enterprise-search.confirm-defaults-change"),()=>{i()}):i()},clearAll:()=>{let e={};Object.entries(O).forEach(t=>{let[a,r]=t;if(Array.isArray(r)){e[a]=[];return}if(a===b._e){e[a]=(0,m.vU)(l[b.D2]||"");return}e[a]=void 0}),[b.xz,b.hZ,b.Fh,b.r1,b.BH].forEach(t=>{e[t]=void 0});let t=()=>{(0,f.s2)(A),Z(),(0,v.hl)(new i.Z(window.document.cookie||""),void 0,b.Hg),w((0,h.ml)(e,j),!1)};j.isConfirmationRequiredForFilter(b.FI)||j.isConfirmationRequiredForFilter(b.Iz)?j.confirmBatchChange([b.FI,b.Iz],q("enterprise-search.confirm-defaults-change"),()=>{t()}):t()},currentFilters:F}}},33013:function(e,t,l){var a,r;l.d(t,{o:function(){return a}}),(r=a||(a={})).Default="Default",r.New="New",r.Returning="Returning",r.ImagePack="Image Pack",r.VideoPack="Video Pack",r.Enterprise="Enterprise"},52254:function(e,t,l){var a=l(92658),r=l(20494);t.Z=(e,t,l,n)=>{var o;if(!e||!e[a.Bv])return null===(o=e&&e[a._D]||l&&l[r.o0]||t||(null==n?void 0:n.dist)||void 0)||void 0===o?void 0:o.toUpperCase()}},85381:function(e,t,l){l.d(t,{B:function(){return s}});var a=l(87633),r=l(50440),n=l(43672),o=l(20494),i=l(76540);let s=(e,t,l,s,c)=>{let{status:d,data:u,isFetching:m}=(0,a.a)({queryKey:["searchResult",{...c,page:null==s?void 0:s.page,locale:null==s?void 0:s.locale}],queryFn:()=>(0,n.uX)(t)({...c,ispartial:!0},s),enabled:l}),h=e.fieldname?"".concat(e.qt,"/f:").concat(e.fieldname):e.qt,{data:f,isFetching:v}=(0,a.a)({queryKey:["searchSuggestion",{qt:null==c?void 0:c.qt,locale:null==s?void 0:s.locale}],queryFn:()=>(0,n.uM)(t)((0,r.hH)((0,i.ZG)(h)),null==s?void 0:s.locale,!0),enabled:l&&(0,o.rQ)(e,h)});return{searchStatus:d,searchResponse:u,isFetchingSearch:m,relatedSearchesResponse:f,isFetchingRelatedSearches:v}}},14833:function(e,t,l){l.d(t,{Q:function(){return a}});let a=(e,t,l)=>e||t&&(null==t?void 0:t.length)>0&&l&&l.totalMatches||0},33666:function(e,t,l){l.d(t,{t:function(){return n}});let a="default",r={"blackwhite=1":"black-white","cutout=1":"cutout","imgt=8":"vector","collectiontype=all-creative":"all-creative","collectiontype=ultimate":"ultimate","collectiontype=vital":"vital","collectiontype=uncut":"uncut","collectiontype=foundation":"foundation","collectiontype=editorial-core":"all-editorial",category:"category"},n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=arguments.length>2?arguments[2]:void 0,n=Object.keys(r).find(e=>t.includes(e))||a,o="";return o=l<=1?e:"pagination-".concat(e),n!==a&&(o=""===o?"".concat(r[n]):"".concat(r[n],"-").concat(o)),o}},45381:function(e,t,l){l.d(t,{o:function(){return r}});let a=["cutout=1","imgt=8","blackwhite=1"],r=e=>a.some(t=>e.includes(t))}}]);